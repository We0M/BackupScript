# Списки и исключения

Предположительно, у вас есть следующая структура папок:
```
C:\data\
    ├── important\
    │   ├── docs\
    │   │   ├── .exclude\
    │   │   ├── file5.tmp
    │   │   └── file6.tmp
    │   ├── .exclude\
    │   ├── file1.txt
    │   └── file2.txt
    └── temp\
        ├── .exclude\
        ├── file3.tmp
        └── file4.tmp
```

> [!CAUTION]
> Все пути должны быть полными, а не абсолютными, т.е путь начинаться с буквы диска.


## Файл списка source.txt

1. **Форматирование файла**:

В файле можно указывать пути к файлам и папкам, которые вы хотите архивировать, а также добавлять комментарии, начиная строку с `#`. Каждый путь должен быть на отдельной строке.
Например:

```
C:\data\important\file1.txt
C:\data\important\file2.txt
# эта строка игнорируется 7-Zip
C:\data\important\docs\
```

> [!NOTE]
> Если путь содержит пробелы, его нужно заключить в кавычки:
> ```
> "C:\path with spaces\file1.txt"
> ```

2. **Шаблоны**:

Можно использовать символы подстановки (`*` и `?`) для указания групп файлов:
   - `*` — соответствует любому количеству символов (включая ноль).
     ```md
      `C:\path\to\*.txt` включает все файлы с расширением `.txt` в указанной папке.
     ```
   - `?` — соответствует любому одному символу.
     ```md
      `C:\path\to\file?.txt` соответствует `file1.txt`, `file2.txt`, но не `file10.txt`.
     ```
Можно использовать `**` для рекурсивного поиска файлов во всех подкаталогах.
   ```md
      `C:\path\to\**\*.jpg` включает все `.jpg` файлы в указанной папке и всех её подкаталогах.
   ```

## Файл исключений exclude.txt

Чтобы исключить отдельные файлы или папки которые вы не хотите сохранять в бекапе, используется файл `exclude.txt`.

### Примеры исключений:

1. **Исключение одного файла**:
   ```md
   C:\data\important\file1.txt
   ```

2. **Исключение всех файлов определённого типа**:
   ```md
   C:\data\temp\*.tmp
   ```

3. **Исключение определенной папки**:
   ```md
   C:\data\temp\
   ```

4. **Исключение всех папок определённого названия**:
   ```md
   *.exclude\*
   ```

---

## Пример использования

Если вы хотите архивировать всю папку `data`, исключая папку `temp`, все `.tmp` файлы во всех папках, а также папки `.exclude`, для этого:
- В файл `source.txt` добавить строку
   ```
   C:\data\
   ```
- В файл `exclude.txt` добавить строки
   ```
   C:\data\temp\ # исключает папку temp
   *.tmp # исключает все файлы с расширением .tmp во всех папках.
   *.exclude\* # исключает все папки с именем .exclude и их содержимое во всех папках
   ```

В результате сохранится такая структура

```
C:\data\important\
        ├── docs\
        │   ├── file5.tmp
        │   └── file6.tmp
        ├── file1.txt
        └── file2.txt
```

[<- Вернуться к README](Readme_ru.md)

---